# 扫雷游戏 - 优化版 🎮

## 🚀 项目概述
这是一个经过全面优化的经典扫雷游戏，使用Python和Pygame开发。相比原版，在代码结构、性能、用户体验等方面都有显著提升。

## ✨ 优化亮点

### 🔧 代码质量提升
- **模块化设计**：使用面向对象设计模式，代码结构清晰
- **类型注解**：添加完整的类型提示，提高代码可维护性
- **枚举类型**：使用枚举替代魔法数字，代码更易读
- **文档完善**：所有公共方法都有详细文档字符串

### ⚡ 性能优化
- **洪水填充算法**：使用高效的递归算法打开空白区域
- **预计算优化**：游戏开始时预先计算周围地雷数量
- **内存管理**：优化图像加载和缓存处理

### 🎯 功能增强
- **智能胜利检测**：自动检测游戏胜利条件
- **改进的游戏状态**：更清晰的游戏状态管理
- **一键重置**：点击表情按钮即可重新开始游戏
- **错误标记显示**：游戏结束时显示错误标记的地雷

## 🛠️ 技术栈
- **Python 3.7+**
- **Pygame 2.0+**
- **面向对象设计**
- **事件驱动架构**

## 📦 安装和运行

### 环境要求
```bash
Python 3.7+
Pygame 2.0+
```

### 安装依赖
```bash
pip install pygame
```

### 启动游戏
```bash
python main.py
```

## 🎮 游戏操作

| 操作 | 功能说明 |
|------|----------|
| **左键单击** | 打开格子 |
| **右键单击** | 标记/取消标记地雷 |
| **左右键双击** | 快速打开周围格子（需正确标记地雷数量） |
| **点击表情** | 重置游戏 |

## 📁 项目结构
```
扫雷/
├── 📄main.py           # 游戏主程序（已优化）
├── 📄config.py         # 游戏配置文件（新增）
├── 📄README.md         # 项目文档（已更新）
├── 📁resources/        # 游戏资源
│   ├── 📁font/
│   │   └── 📄font.TTF  # 游戏字体
│   └── 📁images/       # 游戏图片素材
│       ├── 0.bmp~8.bmp # 数字贴图
│       ├── mine.bmp    # 地雷图标
│       ├── flag.bmp    # 旗帜标记
│       └── face_*.png  # 表情图标
└── 📁.idea/           # IDE配置
```

## 🔍 核心优化内容

### 1. 代码结构优化
- ✅ 使用枚举类型替代魔法数字
- ✅ 添加类型注解提高代码质量
- ✅ 分离配置到独立文件
- ✅ 优化类和方法命名

### 2. 算法优化
- ✅ 实现洪水填充算法打开空白区域
- ✅ 预计算周围地雷数量
- ✅ 优化胜利条件检测

### 3. 用户体验改进
- ✅ 添加游戏胜利状态显示
- ✅ 改进错误标记的显示方式
- ✅ 优化游戏重置流程

## 🎯 游戏特色

### 🧠 智能算法
- **自动空白区域展开**：点击空白格子自动展开周围区域
- **智能胜利判断**：实时检测游戏胜利条件
- **高效地雷计算**：使用优化的算法计算周围地雷数量

### 🎨 视觉体验
- **清晰的图标设计**：所有图标都经过精心设计
- **流畅的动画效果**：鼠标操作有即时反馈
- **直观的状态显示**：游戏状态一目了然

## 🚀 未来计划
- [ ] 添加难度选择菜单
- [ ] 实现排行榜功能
- [ ] 添加音效系统
- [ ] 支持自定义游戏尺寸
- [ ] 添加游戏设置面板

## 🤝 贡献指南
欢迎提交Issue和Pull Request！

## 📄 许可证
MIT License - 详见LICENSE文件

---
**享受游戏吧！** 🎲💣
