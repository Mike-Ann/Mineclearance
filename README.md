# 扫雷游戏 - 优化版 🎮

## 🚀 项目概述
这是一个经过全面优化的经典扫雷游戏，使用Python和Pygame开发。相比原版，在代码结构、性能、用户体验等方面都有显著提升。

## 🛠️ 技术栈
- **Python 3.7+**
- **Pygame 2.0+**
- **面向对象设计**
- **事件驱动架构**

## 📦 安装和运行

### 环境要求
```bash
Python 3.7+
Pygame 2.0+
```

### 安装依赖
```bash
pip install pygame
```

### 启动游戏
```bash
python main.py
```

### 常见问题及解决方案

**Q: 运行游戏时出现 `ModuleNotFoundError: No module named 'pygame'` 错误**
A: 请确保已正确安装Pygame库。可以尝试使用以下命令重新安装：
```bash
pip install pygame
```

**Q: 游戏界面显示不正常或图标缺失**
A: 请确保 `resources` 文件夹及其内容完整且未被移动或删除。游戏需要这些资源文件才能正常运行。

**Q: 游戏运行缓慢**
A: 请确保您的系统满足最低要求。如果问题仍然存在，可以尝试关闭其他占用资源的程序。

## 🎮 游戏操作

### 基本操作

| 操作 | 功能说明 | 示例 |
|------|----------|------|
| **左键单击** | 打开格子 | 点击空白格子查看内容 |
| **右键单击** | 标记/取消标记地雷 | 右键点击可疑格子标记为地雷 |
| **左右键双击** | 快速打开周围格子 | 当数字格子的周围地雷已正确标记时，双击可快速打开周围格子 |
| **点击表情** | 重置游戏 | 点击顶部的表情按钮重新开始游戏 |

### 游戏状态说明

- **🟩 空白格子**：尚未打开的区域
- **🟦 已打开格子**：显示周围地雷数量
- **🚩 标记格子**：标记为地雷的位置
- **❓ 疑问标记**：不确定是否为地雷的位置
- **💣 地雷**：游戏失败时显示的地雷位置

## 📁 项目结构
```
扫雷/
├── 📄main.py           # 游戏主程序（已优化）
├── 📄config.py         # 游戏配置文件（新增）
├── 📄README.md         # 项目文档（已更新）
├── 📁resources/        # 游戏资源
│   ├── 📁font/
│   │   └── 📄font.TTF  # 游戏字体
│   └── 📁images/       # 游戏图片素材
│       ├── 0.bmp~8.bmp # 数字贴图
│       ├── mine.bmp    # 地雷图标
│       ├── flag.bmp    # 旗帜标记
│       └── face_*.png  # 表情图标
└── 📁.idea/           # IDE配置
```

## 🔍 核心优化内容

### 1. 代码结构优化
- ✅ 使用枚举类型替代魔法数字
- ✅ 添加类型注解提高代码质量
- ✅ 分离配置到独立文件
- ✅ 优化类和方法命名

### 2. 算法优化
- ✅ 实现洪水填充算法打开空白区域
- ✅ 预计算周围地雷数量
- ✅ 优化胜利条件检测

### 3. 用户体验改进
- ✅ 添加游戏胜利状态显示
- ✅ 改进错误标记的显示方式
- ✅ 优化游戏重置流程

### 4. 视觉效果优化
- ✅ 优化"重置游戏"按钮样式，添加立体背景效果，使其与雷区按钮保持一致
- ✅ 保持原有的表情图片显示功能，同时增强按钮的视觉层次感

## 🎯 游戏特色

### 🧠 智能算法
- **自动空白区域展开**：点击空白格子自动展开周围区域
- **智能胜利判断**：实时检测游戏胜利条件
- **高效地雷计算**：使用优化的算法计算周围地雷数量

### 🎨 视觉体验
- **清晰的图标设计**：所有图标都经过精心设计
- **流畅的动画效果**：鼠标操作有即时反馈
- **直观的状态显示**：游戏状态一目了然

## 🤝 贡献指南
欢迎提交Issue和Pull Request！

## 📄 许可证
MIT License - 详见LICENSE文件

---
**享受游戏吧！** 🎲💣
